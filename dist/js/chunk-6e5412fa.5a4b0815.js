(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e5412fa"],{"0fea":function(t,e,a){"use strict";a.d(e,"p",(function(){return i})),a.d(e,"i",(function(){return r})),a.d(e,"k",(function(){return c})),a.d(e,"j",(function(){return u})),a.d(e,"d",(function(){return l})),a.d(e,"e",(function(){return s})),a.d(e,"f",(function(){return d})),a.d(e,"b",(function(){return b})),a.d(e,"x",(function(){return h})),a.d(e,"t",(function(){return p})),a.d(e,"m",(function(){return f})),a.d(e,"n",(function(){return m})),a.d(e,"w",(function(){return k})),a.d(e,"u",(function(){return v})),a.d(e,"v",(function(){return y})),a.d(e,"o",(function(){return _})),a.d(e,"l",(function(){return g})),a.d(e,"c",(function(){return w})),a.d(e,"q",(function(){return O})),a.d(e,"s",(function(){return j})),a.d(e,"r",(function(){return B})),a.d(e,"a",(function(){return C})),a.d(e,"g",(function(){return T})),a.d(e,"h",(function(){return x}));var n=a("b775"),o={user:"/user",role:"/role",service:"/service",permission:"/permission",permissionNoPager:"/permission/no-pager",orgTree:"/org/tree",billCheckList:"/invoices/",billCheckQuery:"/billCheck/query",billCheckPerson:"/billCheck/person",billCheckPaper:"/billCheck/paper",billCheckPass:"/billCheck/checkPass",billCount:"/billCheck/billCount",billCountBack:"/billCheck/billCountBack",billSubmit:"/billCheck/billSubmit",billBackSubmit:"/billCheck/billBackSubmit",billBatch:"/invoice/batchscount/",billUnit:"/invoice/batchscount",billPersonE:"/invoices",billPerson:"/invoices",reviewBill:"/invoice/batchscount/",invoiceRespository:"/invoices/",invoiceQuota:"/quota",invoiceRecognition:"/invoicedetails/",dataControl:"/invoice/transportation_allowances/?page=1&page_size=1",financialSummary:"/invoice/transportation_allowances_finance_show/?page=1&page_size=1",electronicLedger:"/invoice/transportation_allowances_eleshow/?page=1&page_size=1",billbackquery:"/invoice_return_search/",billbackcheck:"/invoice/return_affirm/",backBillok:"/invoice/invoice_return/",billbacklist:"/invoices/",information:"/invoice/user_information/",addBatch:"/batchs/",getBatch:"/batchs"};function i(t){return Object(n["b"])({url:o.role,method:"get",params:t})}function r(t){return Object(n["b"])({url:o.billCheckList,method:"get",params:t})}function c(t){return Object(n["b"])({url:o.billCheckPerson,method:"get",params:t})}function u(t){return Object(n["b"])({url:o.billCheckPaper,method:"get",params:t})}function l(t){return Object(n["b"])({url:o.billCount,method:"post",data:t})}function s(t){return Object(n["b"])({url:o.billCountBack,method:"post",data:t})}function d(t){return Object(n["b"])({url:o.billSubmit,method:"post",data:t})}function b(t){return Object(n["b"])({url:o.billBackSubmit,method:"post",data:t})}function h(t){return Object(n["b"])({url:o.reviewBill,method:"put",data:t})}function p(t){return Object(n["b"])({url:o.invoiceRespository,method:"post",data:t})}function f(t){return Object(n["b"])({url:o.invoiceRespository,method:"get",params:t})}function m(t){return Object(n["b"])({url:o.invoiceQuota,method:"get",params:t})}function k(t,e){return Object(n["b"])({url:o.invoiceRespository+e+"/",method:"put",data:t})}function v(t,e){return Object(n["b"])({url:o.invoiceRespository+e+"/",method:"delete"})}function y(t){return Object(n["b"])({url:o.invoiceRecognition,method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}function _(t){return Object(n["b"])({url:o.dataControl,method:"post",data:t})}function g(t){return Object(n["b"])({url:o.billbacklist,method:"get",params:t})}function w(t){return Object(n["b"])({url:o.billbackquery,method:"post",params:t})}function O(t){return Object(n["b"])({url:o.backBillok,method:"post",params:t})}function j(t){return Object(n["b"])({url:o.information,method:"post",data:t})}function B(t){return Object(n["b"])({url:o.getBatch,method:"get",params:t})}function C(t){return Object(n["b"])({url:o.addBatch,method:"post",data:t})}function T(t){return Object(n["b"])({url:o.addBatch+t+"/",method:"delete"})}function x(t){return Object(n["b"])({url:o.addBatch+t+"/",method:"put"})}},bea6:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-header-wrapper",[a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"operator"},[a("a-row",[a("h2",{style:t.titleStyle},[t._v(t._s(t.Role)+"管控表")])]),a("a-row",[a("a-col",{attrs:{span:6}},[a("span",[t._v("发票类型：")]),a("a-select",{staticStyle:{width:"200px"},on:{change:t.changeInvoiceType},model:{value:t.Role,callback:function(e){t.Role=e},expression:"Role"}},t._l(t.items,(function(e){return a("a-select-option",{key:e.key,attrs:{value:e.value}},[t._v(" "+t._s(e.value)+" ")])})),1)],1),a("a-col",{attrs:{span:12}},[a("span",[t._v("批次选择：")]),a("a-select",{staticStyle:{width:"200px"},attrs:{showSearch:"",filterOption:t.filterOption,getPopupContainer:function(t){return t.parentNode},placeholder:"输入搜索报销批次"},on:{change:t.changeBatch},model:{value:t.nowBatch,callback:function(e){t.nowBatch=e},expression:"nowBatch"}},t._l(t.batchList,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.batch_id}},[t._v(" "+t._s(e.batch_name)+" ")])})),1)],1),a("a-col",{attrs:{span:6}},[a("span",[t._v("单元选择：")]),a("a-select",{staticStyle:{width:"60%"},attrs:{"default-value":"IT中心"},on:{change:t.chooseUnit},model:{value:t.nowGroup,callback:function(e){t.nowGroup=e},expression:"nowGroup"}},t._l(t.groups,(function(e){return a("a-select-option",{key:e.key,attrs:{value:e.name}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1),a("a-table",{attrs:{columns:t.columns,"data-source":t.dataTable,rowKey:function(t,e){return e}}})],1),a("div",{staticClass:"content"})])],1)},o=[],i=a("0fea");const r=(new Date).getFullYear();var c={data(){return{Role:"交通补贴",titleStyle:{textAlign:"center"},nowBatch:void 0,nowYear:r,nowGroup:"IT中心",items:[{key:1,value:"交通补贴"},{key:2,value:"疗休养"},{key:3,value:"亲属供养"},{key:4,value:"补充医疗"},{key:5,value:"其他"}],groups:[{key:1,name:"业务运营单元"},{key:2,name:"计费单元"},{key:3,name:"应用开发单元"},{key:4,name:"PAAS单元"},{key:5,name:"基础单元"},{key:6,name:"配置单元"},{key:7,name:"监控单元"},{key:8,name:"安全单元"},{key:9,name:"IT中心"}],columns:[{key:"user_id",dataIndex:"user_id",title:"序号"},{key:"user_name",dataIndex:"user_name",title:"姓名"},{key:"category_quota",dataIndex:"category_quota",title:"当前可报销额度"},{key:"paper_invoice",dataIndex:"paper_invoice",title:"纸质票"},{key:"ele_invoice",dataIndex:"ele_invoice",title:"电子票"},{key:"batch_name",dataIndex:"batch_name",title:"批次"},{key:"category_quota_used",dataIndex:"category_quota_used",title:"已报销"},{key:"category_quota_max",dataIndex:"category_quota_max",title:"额度"}],dataTable:[],batchList:[],result:void 0}},mounted:function(){this.convert()},created(){const t={page:1,size:1e3};this.batchList=[],Object(i["r"])(t).then(t=>{let e=0;for(var a in t.data.results)this.batchList.push({id:e,batch_name:t.data.results[a].batch_name,batch_id:t.data.results[a].id}),e+=1;console.log(this.batchList)})},methods:{changeInvoiceType(t){this.Role=t,this.dataTable=[];const e={unit:"IT中心",batch_num:this.nowBatch,category:t};Object(i["o"])(e).then(t=>{if(console.log(t),200===t.status&&t.data instanceof Array)for(var e in t.data)this.dataTable.push(t.data[e]);else this.dataTable=[]})},changeBatch(t){console.log("触发批次选择"),this.nowBatch=t,this.dataTable=[];const e={unit:this.nowGroup,batch_num:this.nowBatch,category:this.Role};Object(i["o"])(e).then(t=>{if(this.dataTable=[],200===t.status&&t.data instanceof Array)for(var e in t.data)this.dataTable.push(t.data[e]);else this.dataTable=[]})},chooseUnit(t){switch(t){case"业务运营单元":this.nowGroup="业务";break;case"计费单元":this.nowGroup="计费";break;case"应用开发单元":this.nowGroup="开发";break;case"PAAS单元":this.nowGroup="PaaS";break;case"基础单元":this.nowGroup="基础";break;case"配置单元":this.nowGroup="配置";break;case"监控单元":this.nowGroup="监控";break;case"安全单元":this.nowGroup="安全";break;default:this.nowGroup="IT中心"}this.dataTable=[];const e={unit:this.nowGroup,batch_num:this.nowBatch,category:this.Role};Object(i["o"])(e).then(t=>{if(this.dataTable=[],200===t.status&&t.data instanceof Array)for(var e in t.data)this.dataTable.push(t.data[e]);else this.dataTable=[]})},convert(){const t={unit:"IT中心",batch_num:this.nowBatch,category:"交通补贴"};this.dataTable=[],Object(i["o"])(t).then(t=>{if(200===t.status&&t.data instanceof Array)for(var e in t.data)this.dataTable.push(t.data[e]);else this.dataTable=[]})},filterOption(t,e){return e.componentOptions.children[0].text.indexOf(t)>=0}}},u=c,l=a("2877"),s=Object(l["a"])(u,n,o,!1,null,null,null);e["default"]=s.exports}}]);